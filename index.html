<!DOCTYPE html>
<html>
    <head>
        <title>Test</title>
        <script lang="javascript">
            window.RTCPeerConnection = window.RTCPeerConnection || window.mozRTCPeerConnection || window.webkitRTCPeerConnection;   //compatibility for firefox and chrome
            /**
                var pc = new RTCPeerConnection({iceServers: []}), noop = function () {
                };
                pc.createDataChannel("");    //create a bogus data channel
                pc.createOffer(pc.setLocalDescription.bind(pc), noop);    // create offer and set local description
                pc.onicecandidate = function (ice) {  //listen for candidate events
                    if (!ice || !ice.candidate || !ice.candidate.candidate) return;
                    var myIP = /([0-9]{1,3}(\.[0-9]{1,3}){3}|[a-f0-9]{1,4}(:[a-f0-9]{1,4}){7})/.exec(ice.candidate.candidate)[1];
                    jQuery(document).ready(function () {
                        jQuery("#local-ip").append("<li class=\"list-group-item\">Your Local IP is: " + myIP + "</li>");
                        jQuery("#local-ip").show("slow");
                    });

                    pc.onicecandidate = noop;
                };
            **/
            var configuration = {
                iceServers: [
                    { urls: 'stun:stun.l.google.com:19302' },
                    //{ urls: 'turn:turn.example.org' }
                ]
            };
            
            var peer = new RTCPeerConnection(configuration);
            
            peer.addEventListener('icecandidate',function(ev){
                console.log(ev);
            });
            peer.addEventListener('connectionstatechange',function(ev) {
                console.log(ev);
            });
            peer.addEventListener('icecandidateerror',function(ev) {
                console.log(ev);
            });
            peer.addEventListener('iceconnectionstatechange',function(ev){
                console.log(ev);
            });

            var conn = peer.createDataChannel("link",{});
            var options = peer.localDescription;
            //var options = peer.setLocalDescription()
            peer.createOffer(function(sessionDescription) {
                console.log(sessionDescription);
                peer.setLocalDescription(sessionDescription)
            },function(ev) {
                console.log(ev);console.log('XXX');
            });

            // 04242520190
        </script>
    </head>
    <body>
        <h1>Test</h1>
    
    </body>
</html>